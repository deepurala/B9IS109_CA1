{% extends 'base.html' %}
{% load static %}

{% block title %}Company{% endblock %}

{% block content %}
<div class="container">
    <h1>Company</h1>
    <div class="row">
      <div class="col-md-4 ">
        <h3>Add Company</h3>
        <form id="addCompany" action="">
          <div class="form-group">
            <input class="form-control" type="text" name="name" placeholder="Name" required>
          </div>
          <div class="form-group">
            <input class="form-control" type="text" name="industry" placeholder="Industry" required>
          </div>
          <div class="form-group">
            <input class="form-control" type="text" name="location" placeholder="Location" required>
          </div>
          <div class="form-group">
            <input class="form-control" type="text" name="linkedin" placeholder="LinkedIn" required>
          </div>
          <button class="btn btn-primary form-control" type="submit">SUBMIT</button>
        </form>
      </div>
      <div class="col-md-8">
        <h3>Companies</h3>
        <table id="companyTable" class="table table-striped">
          <tr>
            <th>Name</th>
            <th>Industry</th>
            <th>Location</th>
            <th>LinkedIn</th>
          </tr>
          {% if companies %}
          {% for company in companies %}
          <tr id="company-{{company.id}}">
            <td class="companyName companyData" name="name">{{company.name}}</td>
            <td class="companyIndustry companyData" name="industry">{{company.industry}}</td>
            <td class="companyLocation companyData" name="location">{{company.location}}</td>
            <td class="companyLinkedIn companyData" name="linkedin">{{company.linkedIn}}</td>
            <td align="center">
                <button class="btn btn-success form-control" onClick="editCompany({{company.id}})" data-toggle="modal" data-target="#myModal")">EDIT</button>
            </td>
            <td align="center">
                <button class="btn btn-danger form-control" onClick="deletecompany({{company.id}})">DELETE</button>
            </td>
            <!--<td>
                <a href = "/update/{{row.0}}" class="btn btn-warning btn-xs" data-toggle="modal" data-target="#modaledit{{row.0}}">Edit</a>
                <a href = "/delete/{{row.0}}" class="btn btn-danger btn-xs" onclick = "return confirm('Are you sure to delete?')">Delete</a>
            </td>-->
            
          </tr>
          {% endfor %}
          {% else %}
            No Company
          {% endif %}
        </table>
      </div>
    </div>
  </div>
  <!-- Modal -->
  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
            <h4 class="modal-title" id="myModalLabel">Update Company</h4>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">x</span></button>
        </div>
        <form id="updateCompany" action="">
        <div class="modal-body">
            <input class="form-control" id="form-id" type="hidden" name="formId"/>
            <label for="name">Name</label>
            <input class="form-control" id="form-name" type="text" name="formName"/>
            <label for="industry">Industry</label>
            <input class="form-control" id="form-industry" type="text" name="formIndustry"/>
            <label for="location">Location</label>
            <input class="form-control" id="form-location" type="text" name="formLocation"/>
            <label for="linkedIn">LinkedIn</label>
            <input class="form-control" id="form-linkedin" type="text" name="formLinkedIn"/>
        </div>
        <div class="modal-footer">
            <button type="submit" class="btn btn-primary" >Save changes</button>
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
        </form>
      </div>
    </div>
  </div>
{% endblock %}